# SecureLex.ru - Environment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# REQUIRED - Core Settings
# =============================================================================

# PostgreSQL Database Connection
DATABASE_URL=postgresql://securelex:YOUR_DB_PASSWORD@localhost:5432/securelex

# Session Secret (generate with: openssl rand -hex 32)
SESSION_SECRET=your-64-char-random-secret-here-generate-with-openssl

# Secret Encryption Key (generate with: openssl rand -hex 32)
SECRET_ENCRYPTION_KEY=your-64-char-encryption-key-here

# Secret Key for token generation (generate with: openssl rand -hex 16)
SECRET_KEY=your-32-char-secret-key-here

# =============================================================================
# REQUIRED - Site Configuration
# =============================================================================

# Node environment (development or production)
NODE_ENV=production

# Port to run the server on
PORT=5000

# Your domain URL (without trailing slash)
SITE_URL=https://securelex.ru

# Base URL for OAuth callbacks (usually same as SITE_URL)
BASE_URL=https://securelex.ru

# CORS Origin (comma-separated list of allowed origins)
CORS_ORIGIN=https://securelex.ru

# =============================================================================
# REQUIRED - SuperAdmin Account
# =============================================================================

# Initial SuperAdmin credentials (used on first run)
SUPERADMIN_EMAIL=admin@securelex.ru
SUPERADMIN_PASSWORD=YourSecurePassword123!
SUPERADMIN_NAME=Admin

# Master Admin PIN for sensitive operations
MASTER_ADMIN_PIN=123456

# =============================================================================
# AI Services (at least one required for audits)
# =============================================================================

# OpenAI API Key
OPENAIAPIKEY=sk-your-openai-api-key

# GigaChat API Key (Sber)
GIGACHATAPIKEY=your-gigachat-api-key

# Yandex GPT Settings
YANDEX_IAM_TOKEN=your-yandex-iam-token
YANDEX_FOLDER_ID=your-yandex-folder-id
YANDEX_GPT_MODEL_URI=gpt://your-folder-id/yandexgpt-lite
YANDEX_GPT_ENDPOINT=https://llm.api.cloud.yandex.net/foundationModels/v1/completion

# =============================================================================
# OAuth Providers (optional)
# =============================================================================

# VK OAuth
VK_APP_ID=your-vk-app-id
VK_APP_SECRET=your-vk-app-secret

# Yandex OAuth
YANDEX_CLIENT_ID=your-yandex-client-id
YANDEX_CLIENT_SECRET=your-yandex-client-secret

# =============================================================================
# SMTP Email Settings (optional - can be configured via admin panel)
# =============================================================================

# SMTP Password (other settings stored in database)
SMTP_PASSWORD=your-smtp-password

# =============================================================================
# Development Only (DO NOT use in production)
# =============================================================================

# Allow insecure cookies for localhost development
# ALLOW_INSECURE_LOCALHOST_COOKIES=false

# Enable audit mock mode (returns fake data, never use in production!)
# AUDIT_MOCK_MODE=false

# =============================================================================
# Script-specific variables (for admin scripts)
# =============================================================================

# For scripts/reset-password.ts
# RESET_PASSWORD_EMAIL=user@example.com
# RESET_PASSWORD_VALUE=NewSecurePassword123!

# For production database access from scripts
# PRODUCTION_DATABASE_URL=postgresql://user:pass@host:5432/db
